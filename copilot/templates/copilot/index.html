{% extends 'copilot/main.html' %}
{% load static %}
{% include 'copilot/sidebar.html' %}
{% block main %}





<!--start content-->
<main class="page-content">
    
  <div class="row row-cols-1 row-cols-lg-2 row-cols-xl-2 row-cols-xxl-4">
    <div class="col" id="market-status-card">
      <div class="card radius-10">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="">
              <p class="mb-1">Market Status</p>
              <h4 class="mb-0" id="market-status-value">Bullish</h4>
            </div>
            <div class="ms-auto fs-2 text-primary">
              <i class="bi bi-graph-up-arrow"></i>
            </div>
          </div>
          <div class="border-top my-2"></div>
          <small class="mb-0">
            <span id="market-breadth" class="text-success">+72% <i class="bi bi-arrow-up"></i></span>
            <span class="ms-1">of instruments trending up</span>
          </small>
        </div>
      </div>
     </div>

     <div class="col" id="volatility-card">
      <div class="card radius-10">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="">
              <p class="mb-1">Volatility Index</p>
              <h4 class="mb-0" id="volatility-value">18.5</h4>
            </div>
            <div class="ms-auto fs-2 text-success">
              <i class="bi bi-lightning-charge"></i>
            </div>
          </div>
          <div class="border-top my-2"></div>
          <small class="mb-0">
            <span id="volatility-change" class="text-danger">+12% <i class="bi bi-arrow-up"></i></span>
            <span class="ms-1">vs. yesterday</span>
          </small>
        </div>
      </div>
     </div>

     <div class="col" id="alerts-card">
      <div class="card radius-10">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="">
              <p class="mb-1">Actionable Signals</p>
              <h4 class="mb-0" id="alerts-value">0</h4>
            </div>
            <div class="ms-auto fs-2 text-pink">
              <i class="bi bi-bell"></i>
            </div>
          </div>
          <div class="border-top my-2"></div>
          <small class="mb-0" id="alerts-details">
            <span class="text-success" id="alerts-macd">0 MACD crosses</span> |
            <span class="text-danger" id="alerts-rsi">0 RSI &gt; 70</span>
            <br><small class="text-muted" id="alerts-pairs">Across 0 pairs</small>
          </small>
        </div>
      </div>
     </div>

     <div class="col" id="session-card">
      <div class="card radius-10">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="">
              <p class="mb-1">Session Activity</p>
              <h4 class="mb-0" id="session-activity-value">High</h4>
            </div>
            <div class="ms-auto fs-2 text-orange">
              <i class="bi bi-activity"></i>
            </div>
          </div>
          <div class="border-top my-2"></div>
          <small class="mb-0" id="session-details">
            <span class="text-success" id="current-session">London <i class="bi bi-record-fill text-danger"></i></span> Open
          </small>
        </div>
      </div>
     </div>
  </div><!--end row-->


  <div class="row">
    <div class="col-12 col-lg-8 col-xl-8">
      <div class="card radius-10">
        <div class="card-body">
           <div class="row row-cols-1 row-cols-lg-2 g-3 align-items-center">
              <div class="col">
                <h5 class="mb-0">Market Performance</h5>
              </div>
              <div class="col">
                <div class="d-flex align-items-center justify-content-sm-end gap-3 cursor-pointer">
                   <div class="font-13"><i class="bi bi-circle-fill text-primary"></i><span class="ms-2">Forex</span></div>
                   <div class="font-13"><i class="bi bi-circle-fill text-success"></i><span class="ms-2">Indices</span></div>
                </div>
              </div>
           </div>
           <!-- Chart container: render currency strength / performance series here -->
           <div id="chart1"></div>
           <!-- quick legend values (readable numbers) -->
           <div class="d-flex gap-3 mt-3" id="currency-strength-list" aria-hidden="false">
             <!-- JS will inject <div>EUR: <strong id="cs-eur">0.68</strong></div> etc. -->
           </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-4 col-xl-4">
      <div class="card radius-10">
        <div class="card-body">
          <div class="d-flex align-items-center gap-4">
            <div class="">
              <span class="donut" data-peity='{ "fill": ["#8932ff", "rgba(135, 50, 255, 0.15)"], "innerRadius": 28, "radius": 50, "width": 67, "height": 67}'>68/100</span>
            </div>
            <div class="">
              <h4 class="mb-0" id="bullish-pct-value">68%</h4>
              <p class="mb-1">Bullish Instruments</p>
            </div>
            
          </div>
          <div class="border-top my-4"></div>
          <div class="d-flex align-items-center gap-4">
            <div class="">
              <span class="donut" data-peity='{ "fill": ["#ff6632", "rgba(255, 101, 50, 0.15)"], "innerRadius": 28, "radius": 50, "width": 67, "height": 67}'>2.3/5</span>
            </div>
            <div class="">
              <h4 class="mb-0" id="avg-rr-value">2.3:1</h4>
              <p class="mb-1">Risk/Reward Ratio</p>
            </div>
            
          </div>
        </div>
      </div>

      <div class="card radius-10">
        <div class="card-body">
           <div id="chart2"></div>
           <div class="d-flex align-items-end">
              <div>
                <h4 class="mb-1" id="active-alerts-value">14</h4>
                <p class="mb-0">Active Alerts</p>
              </div>
              <div class="ms-auto">
                <p class="mb-0 text-success" id="active-alerts-change">+3 <i class="bi bi-arrow-up"></i></p>
              </div>
           </div>
           <!-- alert breakdown summary (buy/sell/hold) -->
           <div class="mt-3 small" id="alerts-breakdown-summary">
             <span id="alerts-buy">7 BUY</span> &nbsp;|&nbsp; <span id="alerts-sell">5 SELL</span> &nbsp;|&nbsp; <span id="alerts-hold">2 HOLD</span>
           </div>
        </div>
      </div>
    </div>
  </div><!--end row-->

  <div class="row">
    <div class="col-12 col-lg-6 col-xl-6 d-flex">
      <div class="card radius-10 w-100">
        <div class="card-body">
          <div class="row g-3 align-items-center">
            <div class="col">
              <h5 class="mb-0">Market Intelligence</h5>
            </div>
            <div class="col-auto">
              <span class="badge bg-success">LIVE</span>
            </div>
          </div>

          <div class="market-narrative mt-4">
            <div class="alert alert-primary border-0 bg-light-primary">
              <div class="d-flex align-items-center">
                <div class="flex-grow-1">
                  <h6 class="mb-1">USD Showing Strength Amid Rate Expectations</h6>
                  <p class="mb-0">The US Dollar is gaining across the board as Fed officials signal potential rate hikes. EUR/USD testing key support at 1.0780 while GBP/USD holds above 1.2600.</p>
                </div>
                <div class="ms-3">
                  <span class="badge bg-primary">TRENDING</span>
                </div>
              </div>
            </div>

            <div class="alert alert-warning border-0 bg-light-warning mt-3">
              <div class="d-flex align-items-center">
                <div class="flex-grow-1">
                  <h6 class="mb-1">Yen Weakness Continues on BOJ Policy Divergence</h6>
                  <p class="mb-0">USD/JPY breaks above 148.50 as Bank of Japan maintains ultra-loose policy while other central banks remain hawkish. Key resistance at 149.80.</p>
                </div>
                <div class="ms-3">
                  <span class="badge bg-warning">BREAKOUT</span>
                </div>
              </div>
            </div>

            <div class="alert alert-success border-0 bg-light-success mt-3">
              <div class="d-flex align-items-center">
                <div class="flex-grow-1">
                  <h6 class="mb-1">Commodity Currencies Supported by Risk-On Sentiment</h6>
                  <p class="mb-0">AUD/USD holds above 0.6520 support amid improved risk appetite. CAD strengthens with oil prices above $85. NZD eyes resistance at 0.5980.</p>
                </div>
                <div class="ms-3">
                  <span class="badge bg-success">MOMENTUM</span>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-light p-3 radius-10 mt-3">
            <div class="d-flex align-items-center">
              <div class="flex-shrink-0">
                <i class="bi bi-info-circle text-primary me-2"></i>
              </div>
              <div class="flex-grow-1">
                <p class="mb-0 small">Analysis generated at 10:30 AM EST. Key events ahead: Fed Chair Powell speech at 1:00 PM, ECB policy decision tomorrow.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
     <div class="col-12 col-lg-6 col-xl-6 d-flex">
      <div class="card radius-10 w-100">
        <div class="card-body">
          <div class="row row-cols-1 row-cols-lg-2 g-3 align-items-center">
            <div class="col">
              <h5 class="mb-0">Top Movers</h5>
            </div>
            <div class="col">
              <div class="d-flex align-items-center justify-content-sm-end gap-3 cursor-pointer">
                 <div class="font-13"><i class="bi bi-circle-fill text-success"></i><span class="ms-2">Gainers</span></div>
                 <div class="font-13"><i class="bi bi-circle-fill text-danger"></i><span class="ms-2">Losers</span></div>
              </div>
            </div>
           </div>

            <div id="chart6">
              <!-- two small lists for gainers / losers; JS will populate -->
              <div class="row">
                <div class="col-6">
                  <ul class="list-group list-group-flush" id="top-gainers">
                    <!-- <li class="list-group-item">EUR/JPY <span class="ms-auto">+1.5%</span></li> -->
                  </ul>
                </div>
                <div class="col-6">
                  <ul class="list-group list-group-flush" id="top-losers">
                    <!-- <li class="list-group-item">BTC/USD <span class="ms-auto">-1.8%</span></li> -->
                  </ul>
                </div>
              </div>
            </div>

          </div>
        </div>
     </div>
  </div><!--end row-->
  

  <div class="card radius-10">
     <div class="card-body">
       <div class="row g-3">
         <div class="col-12 col-lg-4 col-xl-4 d-flex">
          <div class="card mb-0 radius-10 border shadow-none w-100">
            <div class="card-body">
              <h5 class="card-title">Market Heatmap</h5>
              <h4 class="mt-4">Sectors <i class="bi bi-fire text-danger"></i></h4>
              <p class="mb-0 text-secondary font-13">Forex majors leading with strength</p>
              <ul class="list-group list-group-flush mt-3" id="heatmap-list">
                <li class="list-group-item border-top" data-symbol="EUR/USD">
                  <div class="d-flex align-items-center gap-2">
                     <div><i class="bi bi-circle-fill text-success"></i></div>
                     <div>EUR/USD</div>
                     <div class="ms-auto"><span class="heatmap-change">+1.2%</span></div>
                  </div>
                </li>
                <li class="list-group-item" data-symbol="GBP/USD">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-success"></i></div>
                    <div>GBP/USD</div>
                    <div class="ms-auto"><span class="heatmap-change">+0.8%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="USD/JPY">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-warning"></i></div>
                    <div>USD/JPY</div>
                    <div class="ms-auto"><span class="heatmap-change">+0.2%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="AUD/USD">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-danger"></i></div>
                    <div>AUD/USD</div>
                    <div class="ms-auto"><span class="heatmap-change">-0.4%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="XAU/USD">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-success"></i></div>
                    <div>XAU/USD</div>
                    <div class="ms-auto"><span class="heatmap-change">+2.1%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="USOIL">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-warning"></i></div>
                    <div>USOIL</div>
                    <div class="ms-auto"><span class="heatmap-change">+0.3%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="SPX500">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-success"></i></div>
                    <div>SPX500</div>
                    <div class="ms-auto"><span class="heatmap-change">+0.7%</span></div>
                 </div>
               </li>
               <li class="list-group-item" data-symbol="BTC/USD">
                 <div class="d-flex align-items-center gap-2">
                    <div><i class="bi bi-circle-fill text-danger"></i></div>
                    <div>BTC/USD</div>
                    <div class="ms-auto"><span class="heatmap-change">-1.2%</span></div>
                 </div>
               </li>
              </ul>
            </div>
          </div>
         </div>

         <div class="col-12 col-lg-8 col-xl-8 d-flex">
          <div class="card mb-0 radius-10 border shadow-none w-100">
            <div class="card-body">
              <div class="" id="geographic-map"></div>
             </div>
            </div>
        </div>
       </div><!--end row-->
     </div>
  </div>

  <div class="row">
     <div class="col-12 col-xl-12 col-xxl-12 d-flex">
      <div class="card radius-10 w-100">
        <div class="card-body">
          <div class="row g-3 align-items-center">
            <div class="col-9">
              <h5 class="mb-0">Watch List</h5>
            </div>
         </div>
         <div class="table-responsive mt-4">
          <table class="table align-middle mb-0 table-hover" id="Transaction-History">
            <thead class="table-light">
              <tr>
                <th>Instrument</th>
                <th>Timeframe</th>
                <th>Analysis</th>
                <th>Signal</th>
                <th>Confidence</th>
              </tr>
            </thead>
            <tbody id="watchlist-body">
              <!-- JS will fully replace this tbody with live watchlist rows -->
              <tr>
                <td>
                  <div class="d-flex align-items-center">
                    <div class="forex-icon-sm bg-primary text-white">E/U</div>
                    <div class="ms-2">
                      <h6 class="mb-1 font-14">EUR/USD</h6>
                      <p class="mb-0 font-13 text-secondary">Breakout analysis</p>
                    </div>
                  </div>
                </td>
                <td>H4</td>
                <td>Bullish breakout</td>
                <td>BUY</td>
                <td>
                  <div class="badge rounded-pill alert-success w-100">High</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        </div>
      </div>
    </div>
  </div><!--end row-->
  
</main>
<!--end page main-->


{% endblock %}